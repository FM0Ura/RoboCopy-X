# ?? Sistema de Diálogos Estilizados

## ?? Visão Geral

O RoboCopy-X agora possui um sistema de diálogos completamente estilizado e profissional, com:
- ? Ícones coloridos para cada tipo de mensagem
- ? Bordas e fundos coloridos sutis
- ? Tipografia clara e hierárquica
- ? Scroll automático para mensagens longas
- ? API simples e consistente

---

## ?? Tipos de Diálogo

### **1. ? Erro (Error)**

**Ícone:** ?? ErrorBadge  
**Cor:** Vermelho  
**Botão Padrão:** "Entendi"

**Visual:**
```
???????????????????????????????????????????
? ?? Caminhos Iguais                      ?
???????????????????????????????????????????
? ??????????????????????????????????????? ?
? ? ? Erro: Origem e destino iguais!   ? ?
? ?                                     ? ?
? ? Caminho: C:\Modding\Cyberpunk 2077 ? ?
? ?                                     ? ?
? ? A origem e o destino devem ser     ? ?
? ? diferentes...                      ? ?
? ??????????????????????????????????????? ?
?                           [Entendi] ?
???????????????????????????????????????????
```

**Uso:**
```csharp
await StyledDialogHelper.ShowErrorAsync(
    "Caminhos Iguais",
    "? Erro: Origem e destino são iguais!\n\n" +
    "Caminho: C:\\Teste\n\n" +
    "Escolha um destino diferente.",
    xamlRoot
);
```

---

### **2. ?? Aviso (Warning)**

**Ícone:** ?? Warning  
**Cor:** Laranja  
**Botão Padrão:** "OK"

**Visual:**
```
???????????????????????????????????????????
? ?? Aviso de Segurança                   ?
???????????????????????????????????????????
? ??????????????????????????????????????? ?
? ? ?? ATENÇÃO: Pasta do sistema!      ? ?
? ?                                     ? ?
? ? Caminho: C:\Windows                ? ?
? ?                                     ? ?
? ? Isso pode causar:                  ? ?
? ? • Instabilidade no Windows         ? ?
? ? • Corrupção do sistema            ? ?
? ??????????????????????????????????????? ?
?        [Continuar]      [Cancelar] ?
???????????????????????????????????????????
```

**Uso:**
```csharp
var result = await StyledDialogHelper.ShowWarningAsync(
    "Aviso de Segurança",
    "?? ATENÇÃO: Pasta do sistema...",
    xamlRoot,
    "Continuar Mesmo Assim",
    "Cancelar"
);

if (result == ContentDialogResult.Primary)
{
    // Usuário escolheu continuar
}
```

---

### **3. ?? Informação (Info)**

**Ícone:** ?? Info  
**Cor:** Azul  
**Botão Padrão:** "OK"

**Visual:**
```
???????????????????????????????????????????
? ?? Espaço em Disco                      ?
???????????????????????????????????????????
? ??????????????????????????????????????? ?
? ? ?? Espaço suficiente disponível.    ? ?
? ?                                     ? ?
? ? Necessário: 2.50 GB                ? ?
? ? Disponível: 45.32 GB               ? ?
? ? Margem: 250 MB                     ? ?
? ??????????????????????????????????????? ?
?                              [OK] ?
???????????????????????????????????????????
```

**Uso:**
```csharp
await StyledDialogHelper.ShowInfoAsync(
    "Espaço em Disco",
    "?? Espaço suficiente disponível.\n\n" +
    "Necessário: 2.50 GB\n" +
    "Disponível: 45.32 GB",
    xamlRoot
);
```

---

### **4. ? Sucesso (Success)**

**Ícone:** ?? CheckMark  
**Cor:** Verde  
**Botão Padrão:** "Ótimo!"

**Visual:**
```
???????????????????????????????????????????
? ?? Operação Concluída                   ?
???????????????????????????????????????????
? ??????????????????????????????????????? ?
? ? ? Todos os arquivos copiados!      ? ?
? ?                                     ? ?
? ? 150 arquivos                       ? ?
? ? 2.5 GB transferidos                ? ?
? ? Tempo: 2 minutos                   ? ?
? ??????????????????????????????????????? ?
?                           [Ótimo!] ?
???????????????????????????????????????????
```

**Uso:**
```csharp
await StyledDialogHelper.ShowSuccessAsync(
    "Operação Concluída",
    "? Todos os arquivos foram copiados!\n\n" +
    "150 arquivos\n" +
    "2.5 GB transferidos",
    xamlRoot
);
```

---

### **5. ? Pergunta (Question)**

**Ícone:** ?? Help  
**Cor:** Roxo  
**Botões Padrão:** "Sim" / "Não"

**Visual:**
```
???????????????????????????????????????????
? ?? Confirmar Execução                   ?
???????????????????????????????????????????
? ??????????????????????????????????????? ?
? ? ? Deseja executar?                 ? ?
? ?                                     ? ?
? ? Comando:                           ? ?
? ? robocopy "C:\Origem" "D:\Destino"  ? ?
? ??????????????????????????????????????? ?
?              [Sim]       [Não] ?
???????????????????????????????????????????
```

**Uso:**
```csharp
var result = await StyledDialogHelper.ShowQuestionAsync(
    "Confirmar Execução",
    "? Deseja executar este comando?\n\n" +
    "robocopy \"C:\\Origem\" \"D:\\Destino\"",
    xamlRoot,
    "Executar",
    "Cancelar"
);

if (result == ContentDialogResult.Primary)
{
    // Usuário confirmou
}
```

---

## ?? Características Visuais

### **Ícones Coloridos**
Cada tipo de diálogo tem um ícone único e colorido:
- ?? Erro: Badge vermelho
- ?? Aviso: Triângulo laranja
- ?? Info: Círculo azul
- ?? Sucesso: Check verde
- ?? Pergunta: Ponto de interrogação roxo

### **Fundos Sutis**
Cada tipo tem um fundo colorido com 5% de opacidade:
- Vermelho claro para erros
- Laranja claro para avisos
- Azul claro para informações
- Verde claro para sucessos
- Roxo claro para perguntas

### **Bordas Coloridas**
Bordas de 2px com 30% de opacidade da cor principal.

### **Tipografia**
- **Título:** 20px, SemiBold
- **Conteúdo:** 14px, Regular
- **Espaçamento de linha:** 22px

### **Responsividade**
- Scroll automático para mensagens longas
- Altura máxima: 400px
- Largura adaptativa ao conteúdo

---

## ?? API Completa

### **Método Principal**
```csharp
Task<ContentDialogResult> ShowStyledDialogAsync(
    string title,                      // Título do diálogo
    string message,                    // Mensagem principal
    DialogType dialogType,             // Tipo (Error, Warning, etc)
    XamlRoot xamlRoot,                // Root XAML da janela
    string? primaryButtonText = null, // Texto botão primário (opcional)
    string? secondaryButtonText = null, // Texto botão secundário (opcional)
    string closeButtonText = "OK"     // Texto botão fechar
)
```

### **Métodos de Conveniência**

#### **ShowErrorAsync**
```csharp
Task<ContentDialogResult> ShowErrorAsync(
    string title,
    string message,
    XamlRoot xamlRoot,
    string closeButtonText = "Entendi"
)
```

#### **ShowWarningAsync**
```csharp
Task<ContentDialogResult> ShowWarningAsync(
    string title,
    string message,
    XamlRoot xamlRoot,
    string? primaryButtonText = null,
    string closeButtonText = "OK"
)
```

#### **ShowInfoAsync**
```csharp
Task<ContentDialogResult> ShowInfoAsync(
    string title,
    string message,
    XamlRoot xamlRoot,
    string closeButtonText = "OK"
)
```

#### **ShowSuccessAsync**
```csharp
Task<ContentDialogResult> ShowSuccessAsync(
    string title,
    string message,
    XamlRoot xamlRoot,
    string closeButtonText = "Ótimo!"
)
```

#### **ShowQuestionAsync**
```csharp
Task<ContentDialogResult> ShowQuestionAsync(
    string title,
    string message,
    XamlRoot xamlRoot,
    string primaryButtonText = "Sim",
    string closeButtonText = "Não"
)
```

---

## ?? Exemplos Práticos

### **Exemplo 1: Erro de Validação**
```csharp
// Em MainWindow.xaml.cs
await ShowErrorDialogAsync(
    "Caminhos Iguais",
    "? Erro: Origem e destino são iguais!\n\n" +
    $"Caminho: {sourcePath}\n\n" +
    "A origem e o destino devem ser diferentes.\n" +
    "Escolha um destino diferente para continuar."
);
```

### **Exemplo 2: Aviso com Confirmação**
```csharp
var result = await ShowWarningDialogAsync(
    "Modo Espelho Ativo",
    "?? ATENÇÃO: Modo espelho irá deletar arquivos!\n\n" +
    "Arquivos no destino que não existem na origem serão REMOVIDOS.\n\n" +
    "Deseja continuar?",
    "Sim, Continuar",
    "Não, Cancelar"
);

if (result == ContentDialogResult.Primary)
{
    // Prosseguir com modo espelho
}
```

### **Exemplo 3: Informação de Espaço**
```csharp
await ShowInfoAsync(
    "Verificação de Espaço",
    $"? Espaço suficiente disponível.\n\n" +
    $"Necessário: {FormatBytes(required)}\n" +
    $"Disponível: {FormatBytes(available)}\n" +
    $"Margem de segurança: {FormatBytes(margin)}\n" +
    $"Após cópia: ~{FormatBytes(remaining)} livres"
);
```

### **Exemplo 4: Sucesso após Operação**
```csharp
await ShowSuccessDialogAsync(
    "Cópia Concluída",
    "? Operação concluída com sucesso!\n\n" +
    $"Arquivos copiados: {fileCount}\n" +
    $"Tamanho total: {FormatBytes(totalSize)}\n" +
    $"Tempo decorrido: {elapsed}\n" +
    $"Velocidade média: {FormatBytes(speed)}/s"
);
```

### **Exemplo 5: Pergunta ao Usuário**
```csharp
var result = await ShowQuestionDialogAsync(
    "Substituir Arquivos?",
    "? Existem arquivos mais novos no destino.\n\n" +
    "Deseja sobrescrever com os arquivos da origem?",
    "Sim, Sobrescrever",
    "Não, Manter Destino"
);
```

---

## ?? Integração no Código

### **No MainWindow.xaml.cs**

Todos os métodos helper já integrados:

```csharp
// Métodos disponíveis
private async Task<ContentDialogResult> ShowErrorDialogAsync(string title, string message)
private async Task<ContentDialogResult> ShowWarningDialogAsync(string title, string message, 
    string? primaryButtonText = null, string closeButtonText = "OK")
private async Task<ContentDialogResult> ShowInfoDialogAsync(string title, string message)
private async Task<ContentDialogResult> ShowSuccessDialogAsync(string title, string message)
private async Task<ContentDialogResult> ShowQuestionDialogAsync(string title, string message,
    string primaryButtonText = "Sim", string closeButtonText = "Não")
```

**Uso direto:**
```csharp
// Erro
await ShowErrorDialogAsync("Título", "Mensagem");

// Aviso com confirmação
var result = await ShowWarningDialogAsync(
    "Título", 
    "Mensagem", 
    "Confirmar", 
    "Cancelar"
);

// Info
await ShowInfoDialogAsync("Título", "Mensagem");

// Sucesso
await ShowSuccessDialogAsync("Título", "Mensagem");

// Pergunta
var result = await ShowQuestionDialogAsync(
    "Título", 
    "Mensagem", 
    "Sim", 
    "Não"
);
```

---

## ?? Benefícios

### **Para o Usuário:**
- ? Visual profissional e moderno
- ? Identificação rápida do tipo de mensagem (cores e ícones)
- ? Mensagens claras e bem formatadas
- ? Scroll automático para mensagens longas
- ? Consistência em toda a aplicação

### **Para o Desenvolvedor:**
- ? API simples e intuitiva
- ? Reutilizável em todo o projeto
- ? Fácil manutenção
- ? Código limpo e organizado
- ? Type-safe com enums

---

## ?? Comparação Antes vs Depois

### **Antes (ContentDialog Padrão):**
```
???????????????????
? Erro            ?
???????????????????
? Mensagem de     ?
? erro simples    ?
?                 ?
?        [OK]     ?
???????????????????
```

### **Depois (Diálogo Estilizado):**
```
????????????????????????????????
? ?? Erro                       ?
????????????????????????????????
? ???????????????????????????? ?
? ? Mensagem de erro         ? ?
? ? formatada com:           ? ?
? ? • Ícone colorido         ? ?
? ? • Fundo sutil            ? ?
? ? • Borda colorida         ? ?
? ? • Tipografia clara       ? ?
? ???????????????????????????? ?
?                  [Entendi]   ?
????????????????????????????????
```

---

## ? Checklist de Implementação

- [x] Criar StyledDialogHelper.cs
- [x] Implementar 5 tipos de diálogo
- [x] Adicionar ícones coloridos
- [x] Adicionar fundos e bordas coloridas
- [x] Implementar scroll para mensagens longas
- [x] Criar métodos de conveniência
- [x] Integrar no MainWindow
- [x] Atualizar todas as validações críticas
- [x] Compilação bem-sucedida
- [x] Documentação completa

---

**Sistema de diálogos estilizados implementado com sucesso! ??**

**Agora todos os diálogos do RoboCopy-X têm aparência profissional e moderna!** ?
